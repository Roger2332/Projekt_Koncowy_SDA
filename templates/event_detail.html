{% extends "base.html" %}

{% block content %}
    <div class="container mt-4">
        <h1>{{ event.name }}</h1>
        <p><strong>Miejsce:</strong> {{ event.place }}</p>
        <p><strong>Kategoria:</strong> {{ event.category.name }}</p>

        <p><strong>Data rozpoczęcia</strong> {{ event.start_at }}</p>
        <p><strong>Data zakończenia</strong> {{ event.end_at }}</p>

        <p><strong>Pełny opis:</strong> {{ event.description }}</p>
        <p><strong>Organizator:</strong> {{ event.author.username }}</p>

        {% if is_organizer %}
            <form action="{% url 'event_edit' event.id %}" class="btn btn-secondary">
                {% csrf_token %}
                <button type="submit" class="btn btn-success">Edit Event</button>
            </form>
            <form action="{% url 'delete_event' event.id %}" class="btn btn-secondary">
                {% csrf_token %}
                <button type="submit" class="btn btn-success">Delate Event</button>
            </form>
            
        {% elif is_registered %}
            <form action="{% url 'unsubscribe_event' event.id %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn btn-warning">Rezygnuj</button>
            </form>
        {% else %}
            <form action="{% url 'subscribe_event' event.id %}" method="post">
                {% csrf_token %}
                <button type="submit" class="btn btn-success">Zapisz się</button>
            </form>
        {% endif %}
    </div>
{% endblock %}
